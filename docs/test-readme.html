---
layout: base
---

<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="magical-magic"><code>magical-magic</code><a class="anchor-link" href="#magical-magic">&#182;</a></h1><p>Dead simple reusable <code>IPython</code> magics.</p>
<h2 id="Installation">Installation<a class="anchor-link" href="#Installation">&#182;</a></h2><p><code>pip install magical-magic</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Basic-Usage">Basic Usage<a class="anchor-link" href="#Basic-Usage">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">magical</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">magical</span><span class="o">.</span><span class="n">register_jinja2_magic</span><span class="p">()</span> <span class="c1"># returns a jinja environment</span>
<span class="n">magical</span><span class="o">.</span><span class="n">register_mistune_magic</span><span class="p">(</span><span class="n">escape</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">magical</span><span class="o">.</span><span class="n">register_yaml_magic</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>



<div id="31202e6f-6036-43be-b09e-98596bd6d0b8"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#31202e6f-6036-43be-b09e-98596bd6d0b8');
require([
                    "notebook/js/codecell",
                    "codemirror/mode/jinja2/jinja2"
                ],
                function(cc){
                    cc.CodeCell.options_default.highlight_modes.magic_jinja2 = {
                        reg: ["^%%jinja2"]
                    };
                }
            );
            
</script>
</div>

</div>

<div class="output_area"><div class="prompt"></div>



<div id="b545f914-b537-40e7-8f56-d74cbe9c2eb9"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#b545f914-b537-40e7-8f56-d74cbe9c2eb9');
require([
                    "notebook/js/codecell",
                    "codemirror/mode/markdown/markdown"
                ],
                function(cc){
                    cc.CodeCell.options_default.highlight_modes.magic_mistune = {
                        reg: ["^%%mistune"]
                    };
                }
            );
            
</script>
</div>

</div>

<div class="output_area"><div class="prompt"></div>



<div id="69f25745-75e2-4a97-b5ee-38c327acf8ed"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#69f25745-75e2-4a97-b5ee-38c327acf8ed');
require([
                    "notebook/js/codecell",
                    "codemirror/mode/yaml/yaml"
                ],
                function(cc){
                    cc.CodeCell.options_default.highlight_modes.magic_yaml = {
                        reg: ["^%%yaml"]
                    };
                }
            );
            
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;üêÆ&#39;</span><span class="p">:</span> <span class="s1">&#39;moo&#39;</span><span class="p">,</span> <span class="s1">&#39;üêë&#39;</span><span class="p">:</span> <span class="s1">&#39;bah&#39;</span><span class="p">,</span> <span class="s1">&#39;üî•&#39;</span><span class="p">:</span> <span class="s1">&#39;burn&#39;</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="k">jinja2</span> 
# Jinja Cell Magics

`%%jinja2` inserts data from the notebook into the template.  

## An example of a list

{% for key in data %}* {{key}} - __{{data[key]}}__
{% endfor %}
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>

<div class="output_markdown rendered_html output_subarea ">
<h1 id="Jinja-Cell-Magics">Jinja Cell Magics<a class="anchor-link" href="#Jinja-Cell-Magics">&#182;</a></h1><p><code>%%jinja2</code> inserts data from the notebook into the template.</p>
<h2 id="An-example-of-a-list">An example of a list<a class="anchor-link" href="#An-example-of-a-list">&#182;</a></h2><ul>
<li>üêÆ - <strong>moo</strong></li>
<li>üî• - <strong>burn</strong></li>
<li>üêë - <strong>bah</strong></li>
</ul>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="k">mistune</span> -d
## Mistune Cell Magics

`%%mistune` uses a pure Python markdown parser.  For convenience, jinja templates can be used to 
tell us about the length of `data` is {{data.__len__()}}.
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Development">Development<a class="anchor-link" href="#Development">&#182;</a></h1><h2 id="Running-the-Build-and-Tests">Running the Build and Tests<a class="anchor-link" href="#Running-the-Build-and-Tests">&#182;</a></h2><div class="highlight"><pre><span></span>pip install -r requirements-dev.txt
python setup.py develop
watchmedo tricks tricks.yaml
</pre></div>
<p>The <code>watchmedo</code> script will convert your notebooks to scripts and html files.  <code>py.test-ipynb</code> will test all notebooks matching <code>test-*.ipynb</code>.</p>
<h2 id="Running-the-docs">Running the docs<a class="anchor-link" href="#Running-the-docs">&#182;</a></h2><div class="highlight"><pre><span></span>jekyll serve docs -wit
</pre></div>
<p>Docs are hosted at <code>http://localhost:4000/magical-magic/</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="License">License<a class="anchor-link" href="#License">&#182;</a></h2><p><code>magical-magic</code> is released as free software under the <a href="https://github.com/tonyfast/magical-magic/blob/master/LICENSE">BSD 3-Clause license</a>.</p>

</div>
</div>
</div>
    </div>
  </div>
</body>